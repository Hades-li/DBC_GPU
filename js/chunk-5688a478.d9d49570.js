(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5688a478"],{2492:function(t,e,a){"use strict";var s=a("f53f"),i=a.n(s);i.a},"7fac":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap1200 bg-box"},[a("div",{staticClass:"border-box"},[a("h3",{staticClass:"wallet-title"},[t._v("Open Wallet")]),a("p",{staticClass:"wallet-subText"},[t._v("How would you like to access your wallet?")]),a("el-radio-group",{staticClass:"wallet-group",on:{change:t.radioChange},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("div",{staticClass:"row"},[a("el-radio",{staticClass:"radio-item",attrs:{label:"1"}},[t._v("Keystore File")])],1),a("div",{staticClass:"row"},[a("el-radio",{staticClass:"radio-item",attrs:{label:"2"}},[t._v("Private key")])],1),a("div",{staticClass:"row"},[a("el-radio",{staticClass:"radio-item",attrs:{label:"3"}},[t._v("Encrypted key")])],1)]),"1"===t.radio||"3"===t.radio?a("div",["1"===t.radio?a("div",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/",multiple:!1,"show-file-list":!1,"auto-upload":!1,"on-change":t.keyFileChange,disabled:t.disableBtn}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("select wallet file")])],1)],1):"3"===t.radio?a("div",{staticClass:"input-wrap"},[a("ps-input",{attrs:{placeholder:"Paste or type encrypted key."},model:{value:t.encryptedKey,callback:function(e){t.encryptedKey=e},expression:"encryptedKey"}})],1):t._e(),t.canInputPassword?a("div",{staticClass:"input-wrap mt20"},[a("ps-input",{attrs:{isPassword:!0,placeholder:"Enter password"},model:{value:t.password,callback:function(e){t.password="string"===typeof e?e.trim():e},expression:"password"}})],1):t._e(),"3"!==t.radio||t.canInputPassword?t._e():a("div",{staticClass:"btn-wrap"},[a("el-button",{staticClass:"w200",attrs:{type:"primary"},on:{click:t.continueEncryptedKey}},[t._v("continue")])],1),t.canInputPassword?a("div",{staticClass:"btn-wrap"},[a("el-button",{staticClass:"w200",attrs:{type:"primary"},on:{click:t.unlockWalletFromEncryptedKey}},[t._v("unlock")])],1):t._e()]):"2"===t.radio?a("div",[a("div",{staticClass:"input-wrap"},[a("ps-input",{attrs:{placeholder:"Paste or type private key."},model:{value:t.privateKey,callback:function(e){t.privateKey=e},expression:"privateKey"}})],1),a("div",{staticClass:"btn-wrap"},[a("el-button",{staticClass:"w200",attrs:{type:"primary"},on:{click:t.unlockWalletFromPrivateKey}},[t._v("unlock")])],1)]):t._e(),t.errText.length>0?a("el-alert",{staticClass:"mt20",attrs:{title:"error",type:"error",description:t.errText,"show-icon":"",closable:!1},on:{close:t.closeAlert}}):t._e()],1)])},i=[],r=a("cebc"),n=a("e5a7"),o=a("2f62"),l=a("d5ce"),c={name:"index",data:function(){return{radio:"1",password:"",encryptedKey:"",privateKey:"",keyFile:void 0,disableBtn:!1,errText:"",canInputPassword:""}},methods:Object(r["a"])({},Object(o["b"])(["createAccountFromPrivateKey","createAccountFromEncryptedKey"]),{unlockWalletFromEncryptedKey:function(){var t=this;this.password.length>0&&this.createAccountFromEncryptedKey({encryptedKey:this.encryptedKey,password:this.password}).then(function(){t.pushToMyWalletUnlock()}).catch(function(){t.errText="then key or password is wrong~!"})},unlockWalletFromPrivateKey:function(){var t=this;this.createAccountFromPrivateKey(this.privateKey).then(function(){t.pushToMyWalletUnlock()}).catch(function(e){t.errText=t.$t("msg.wallet_4")})},continueEncryptedKey:function(){l["wallet"].isNEP2(this.encryptedKey)?(this.canInputPassword=!0,this.errText=""):this.errText="Invalid Encrypted Key. A valid NEP-2 Encrypted Key looks like 6PYTp4fNNhn2oV6HZhjzfg6YoeC8r1wWsCPikEJXxcTmsitDm92mWpdqd6"},keyFileChange:function(t){var e=this,a=new FileReader;a.onload=function(t){var a=t.target.result;l["wallet"].isNEP2(a)?(e.encryptedKey=a,e.canInputPassword=!0,e.errText=""):e.errText="Invalid Encrypted Key. A valid NEP-2 Encrypted Key looks like 6PYTp4fNNhn2oV6HZhjzfg6YoeC8r1wWsCPikEJXxcTmsitDm92mWpdqd6"},a.readAsText(t.raw)},radioChange:function(t){this.canInputPassword=!1,this.privateKey="",this.errText="","1"===t&&!1===this.$isSupportFileApi()&&(this.$message({message:"你的浏览器不支持本地文件读取",type:"warning"}),this.disableBtn=!0)},pushToMyWalletUnlock:function(){this.$router.push("/gpu/myWalletUnlock")},closeAlert:function(){}}),computed:Object(r["a"])({},Object(o["c"])(["account"])),components:{PsInput:n["a"]}},d=c,p=(a("ae15"),a("2877")),u=Object(p["a"])(d,s,i,!1,null,"bc1d1af8",null);e["default"]=u.exports},ae15:function(t,e,a){"use strict";var s=a("b8cf"),i=a.n(s);i.a},b8cf:function(t,e,a){},e5a7:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"input-box"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.text,expression:"text",modifiers:{trim:!0}}],staticClass:"dbc-input",attrs:{type:t.isView||!t.isPassword?"text":"password",placeholder:t.placeholder},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t.isPassword?a("i",{staticClass:"iconfont",class:t.isView?"iconnoview":"iconview",on:{click:t.switchView}}):t._e()])},i=[],r={name:"inputPassword",props:{placeholder:{type:String,default:""},isPassword:{type:Boolean,default:!1},value:{type:String,default:""}},watch:{value:function(t){this.text=t},text:function(t){this.$emit("input",t)}},data:function(){return{isView:!this.isPassword,text:""}},methods:{switchView:function(){this.isView=!this.isView}}},n=r,o=(a("2492"),a("2877")),l=Object(o["a"])(n,s,i,!1,null,"79d0db38",null);e["a"]=l.exports},f53f:function(t,e,a){}}]);
//# sourceMappingURL=chunk-5688a478.d9d49570.js.map